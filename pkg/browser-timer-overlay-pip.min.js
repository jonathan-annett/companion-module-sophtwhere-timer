function setupPip(t,e,n,i,c,r,u,o,l){const d=window.safari?function(){setTimeout(I,33)}:function(){requestAnimationFrame(I)},s=document.getElementById(e);if(!s.requestPictureInPicture)return null;const m=document.getElementById(t),a=r?document.querySelector(r):m,h=o?document.querySelector(o):null;getInheritedBackgroundColor(a);g.lastContent="";const P=document.createElement("canvas"),f=(P.width=n,P.height=i,s.style.position="absolute",s.style.bottom=0,s.style.right=0,s.style.opacity=0,P.getContext("2d"));f.font=c,f.textAlign="center",f.textBaseline="middle",I();e=P.captureStream();return s.srcObject=e,g.enterPIP=function(){return document.pictureInPictureElement?(html.classList.add(u),!1):document.pictureInPictureEnabled?(s.requestPictureInPicture(),html.classList.add(u),!0):void 0},g.exitPIP=function(){return document.pictureInPictureElement?(document.exitPictureInPicture(),html.classList.remove(u),!0):document.pictureInPictureEnabled?(html.classList.remove(u),!1):void 0},g;function I(){var t,e=m.textContent;g.lastContent!==e&&(f.fillStyle=getInheritedBackgroundColor(a),f.fillRect(0,0,P.width,P.height),f.fillStyle=getInheritedColor(a),f.font=c,f.fillText(e,P.width/2,P.height/2),h&&(f.font=l,"none"!==(t=window.getComputedStyle(h,":before").content))&&f.fillText(t.replace(/^\"|\"$/g,""),P.width/2,32,P.width),g.lastContent=e),d()}function g(){document.pictureInPictureElement?(document.exitPictureInPicture(),html.classList.remove(u)):document.pictureInPictureEnabled&&(s.requestPictureInPicture(),html.classList.add(u))}}